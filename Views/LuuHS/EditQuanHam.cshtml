
@{
    ViewBag.Title = "Chỉnh sửa quân hàm quân nhân";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>

    .table-wrapper {
        width: 900px;
        margin: 30px auto;
        background: #fff;
        padding: 20px;
        box-shadow: 0 1px 1px rgba(0,0,0,.05);
    }

    .table-title {
        padding-bottom: 10px;
        margin: 0 0 10px;
    }

        .table-title h2 {
            margin: 6px 0 0;
            font-size: 22px;
        }

        .table-title .add-new {
            float: right;
            height: 30px;
            font-weight: bold;
            font-size: 12px;
            text-shadow: none;
            min-width: 100px;
            border-radius: 50px;
            line-height: 13px;
        }

            .table-title .add-new i {
                margin-right: 4px;
            }

    table.table {
        table-layout: fixed;
    }

        table.table tr th, table.table tr td {
            border-color: #e9e9e9;
        }

        table.table th i {
            font-size: 13px;
            margin: 0 5px;
            cursor: pointer;
        }

        table.table th:last-child {
            width: 100px;
        }

        table.table td a {
            cursor: pointer;
            display: inline-block;
            margin: 0 5px;
            min-width: 24px;
        }

            table.table td a.add {
                color: #27C46B;
            }

            table.table td a.edit {
                color: #FFC107;
            }

            table.table td a.delete {
                color: #E34724;
            }

        table.table td i {
            font-size: 19px;
        }

        table.table td a.add i {
            font-size: 24px;
            margin-right: -1px;
            position: relative;
            top: 3px;
        }

        table.table .form-control {
            height: 32px;
            line-height: 32px;
            box-shadow: none;
            border-radius: 2px;
        }

            table.table .form-control.error {
                border-color: #f50000;
            }

        table.table td .add {
            display: none;
        }
        th, td{
            text-align:center;
        }
</style>
<script>

    $(document).ready(function () {
        var index = 1;
        var actions = $("tbody tr:last-child").html();
        // Append table with add row form on add new button click
        $(".add-new").click(function () {
            
            
            $("table").append(actions);
        });        

        // Delete row on delete button click
        $(document).on("click", ".delete", function () {
            $(this).parents("tr").remove();
            $(".add-new").removeAttr("disabled");
            index--;

        });
    });
</script>



        <div class="table-wrapper">
            <div class="table-title">
                <div class="row">
                    <div class="col-sm-8"><h2>Quân hàm của <b>Nguyễn Văn Nam</b></h2></div>
                    <div class="col-sm-4">
                        <button type="button" class="btn btn-info add-new"><i class="fa fa-plus"></i>Thêm quân hàm</button>
                    </div>
                </div>
            </div>
            <form action="" method="post" enctype="multipart/form-data">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Quân Hàm</th>
                            <th>Năm nhận</th>
                            <th>Công cụ</th>
                        </tr>
                    </thead>

                    <tbody>
                        @foreach (var item in ViewBag.QuanHamLHS)
                        {
                            string NgayNhan = null;
                            if (@item.NgayNhan != null)
                            {
                                string NgayNhanStr = @item.NgayNhan.ToString();
                                DateTime date = (Convert.ToDateTime(NgayNhanStr));
                                NgayNhan = date.Year + "-" + date.Month + "-" + date.Day;
                            }
                            <tr>
                                <td>1</td>
                                <td>
                                    <select class="form-control" name="MaQuanHam" id="MaQuanHam">
                                        <option value="0" label="Chưa nhập" ></option>
                                        @foreach (var qh in ViewBag.QuanHam)
                                        {
                                            if (@item.MaQuanHam == @qh.MaQuanHam)
                                            {
                                                <option value="@qh.MaQuanHam" label="@qh.TenQuanHam" selected></option>
                                            }
                                            else
                                            {
                                                <option value="@qh.MaQuanHam" label="@qh.TenQuanHam" ></option>
                                            }

                                        }
                                    </select>
                                </td>
                                <td><input class="form-control" value="@NgayNhan" type="date" name="NgayNhan" /></td>
                                <td>                                                                     
                                    <a class="delete" title="Xóa"><i class="fa fa-remove"></i></a>
                                </td>
                            </tr>
                        }
                          


                    </tbody>
                </table>
                <button type="submit" class="btn btn-success waves-effect waves-light mt-2"><i class="mdi mdi-content-save"></i> Lưu</button>
                
            </form>
            </div>
<script>

</script>

